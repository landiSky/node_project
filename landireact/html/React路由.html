<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>珠峰培训React教程</title>
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
</head>
<body>
<div class="nav">
    <div class="logo">
        
            珠峰培训React教程
        
    </div>
<ul><li><a href="../index.html">React基础篇</a></li><li><a href="../html/Redux应用.html">Redux应用</a></li><li><a href="../html/Redux深入.html">Redux深入</a></li><li><a href="../html/React-Redux.html">React-Redux</a></li><li><a href="../html/MiddleWare应用.html">MiddleWare应用</a></li><li class="active"><a href="../html/React路由.html">React路由</a></li></ul></div>


<div class="warpper">

    <div class="page-toc">
        <ul><li><a href="#t0路由的使用">路由的使用</a><ul><li><a href="#t1安装">安装</a></li><li><a href="#t2容器组件的区别">容器组件的区别</a></li><li><a href="#t3跑通基本路由">跑通基本路由</a></li><li><a href="#t4路由的匹配">路由的匹配</a></li><li><a href="#t5Link组件">Link组件</a></li><li><a href="#t6增加导航">增加导航</a></li><li><a href="#t7页面级组件">页面级组件</a></li><li><a href="#t8二级路由">二级路由</a><ul><li><a href="#t9实现二级路由">实现二级路由</a></li><li><a href="#t10UserList和Add组件">UserList和Add组件</a></li></ul></li><li><a href="#t11路由跳转和路径参数">路由跳转和路径参数</a><ul><li><a href="#t12实现添加用户">实现添加用户</a></li><li><a href="#t13列表页展示">列表页展示</a></li><li><a href="#t14引入UserDetail组件">引入UserDetail组件</a></li><li><a href="#t15UserDetail详情页">UserDetail详情页</a></li></ul></li><li><a href="#t16路由匹配">路由匹配</a><ul><li><a href="#t17新增路由匹配">新增路由匹配</a></li><li><a href="#t18exact">exact</a></li><li><a href="#t19Switch">Switch</a></li></ul></li><li><a href="#t20受保护的路由">受保护的路由</a></li><li><a href="#t21受保护路由">受保护路由</a><ul><li><a href="#t22Protected组件">Protected组件</a></li><li><a href="#t23新增Login组件">新增Login组件</a></li></ul></li><li><a href="#t24自定义菜单">自定义菜单</a><ul><li><a href="#t25实现MenuLink组件">实现MenuLink组件</a></li></ul></li><li><a href="#t26Prompt">Prompt</a></li></ul></li><li><a href="#t27NotFound页面">NotFound页面</a><ul><li><a href="#t28新增404路由">新增404路由</a></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h2 id="t0&#x8DEF;&#x7531;&#x7684;&#x4F7F;&#x7528;">&#x8DEF;&#x7531;&#x7684;&#x4F7F;&#x7528; <a href="#t0&#x8DEF;&#x7531;&#x7684;&#x4F7F;&#x7528;"> # </a></h2>
<p>&#x672C;&#x7AE0;&#x6211;&#x4EEC;&#x6765;&#x4ECB;&#x7ECD;react&#x4E2D;&#x8DEF;&#x7531;&#x7684;&#x4F7F;&#x7528;,&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x662F;React-Router-4&#x7248;&#x672C;,&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x5305;&#x53EB;react-router-dom</p>
<h3 id="t1&#x5B89;&#x88C5;">&#x5B89;&#x88C5; <a href="#t1&#x5B89;&#x88C5;"> # </a></h3>
<pre><code>npm install react-router-dom
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E0B;&#x8F7D;&#x597D;&#x540E;&#x9700;&#x8981;&#x4ED6;&#x5185;&#x90E8;&#x7684;&#x8DEF;&#x7531;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;,&#x4E3B;&#x8981;&#x5305;&#x542B;BrowserRouter,HashRouter,MemoryRouter</p>
</blockquote>
<h3 id="t2&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x7684;&#x533A;&#x522B;">&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x7684;&#x533A;&#x522B; <a href="#t2&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x7684;&#x533A;&#x522B;"> # </a></h3>
<ul>
<li>BrowserRouter: &#x6D4F;&#x89C8;&#x5668;&#x81EA;&#x5E26;&#x7684;H5 API,restful&#x98CE;&#x683C;,&#x9700;&#x8981;&#x914D;&#x5408;&#x540E;&#x53F0;&#xFF1B;</li>
<li>HashRouter: &#x4F7F;&#x7528;hash&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8DEF;&#x7531;,&#x8DEF;&#x5F84;&#x540E;&#x5747;&#x6709;#&#xFF1B;</li>
<li>MemoryRouter: &#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7BA1;&#x7406;history&#xFF0C;&#x5730;&#x5740;&#x680F;&#x4E0D;&#x4F1A;&#x53D8;&#x5316;&#x3002;&#x5728;reactNative&#x4E2D;&#x4F7F;&#x7528;&#x3002;</li>
</ul>
<blockquote>
<p>&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x4F7F;&#x7528;HashRouter,&#x4E0A;&#x7EBF;&#x540E;&#x6211;&#x4EEC;&#x6539;&#x7528;BrowserRouter</p>
</blockquote>
<h3 id="t3&#x8DD1;&#x901A;&#x57FA;&#x672C;&#x8DEF;&#x7531;">&#x8DD1;&#x901A;&#x57FA;&#x672C;&#x8DEF;&#x7531; <a href="#t3&#x8DD1;&#x901A;&#x57FA;&#x672C;&#x8DEF;&#x7531;"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x6765;&#x58F0;&#x660E;&#x4E09;&#x4E2A;&#x7EC4;&#x4EF6;Home,User,Profile&#x5E0C;&#x671B;&#x8BBF;&#x95EE;&#x4E0D;&#x540C;&#x7684;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x7EC4;&#x4EF6;</p>
<pre><code>import React from &apos;react&apos;;
import ReactDOM from &apos;react-dom&apos;;
import {HashRouter,Route} from &apos;react-router-dom&apos;;
let Home = () =&gt;&lt;div&gt;home&lt;/div&gt;
let Profile = () =&gt;&lt;div&gt;Profile&lt;/div&gt;
let User = () =&gt;&lt;div&gt;User&lt;/div&gt;
ReactDOM.render(&lt;HashRouter&gt;
    &lt;div&gt;
        &lt;Route path=&quot;/home&quot; component={Home}/&gt;
        &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;
        &lt;Route path=&quot;/user&quot; component={User}/&gt;
    &lt;/div&gt;
&lt;/HashRouter&gt;,document.querySelector(&apos;#root&apos;));
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;HashRouter,&#x4EE3;&#x7801;&#x4E00;&#x76EE;&#x4E86;&#x7136;,&#x8FD9;&#x91CC;&#x7528;&#x5230;&#x4E86;Route&#x7EC4;&#x4EF6;,Route&#x7EC4;&#x4EF6;&#x4E0A;&#x6709;path&#x548C;component&#x5C5E;&#x6027;,&#x5BF9;&#x5E94;&#x7684;path&#x4F1A;&#x663E;&#x793A;&#x5BF9;&#x5E94;&#x7684;component,&#x8FD9;&#x91CC;&#x8FD8;&#x9700;&#x6CE8;&#x610F;HashRouter&#x5FC5;&#x987B;&#x53EA;&#x80FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6839;&#x5143;&#x7D20;,&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728;&#x6240;&#x6709;&#x7684;Route&#x5916;&#x5C42;&#x5305;&#x4E86;&#x4E00;&#x4E2A;div&#x6807;&#x7B7E;</p>
</blockquote>
<h3 id="t4&#x8DEF;&#x7531;&#x7684;&#x5339;&#x914D;">&#x8DEF;&#x7531;&#x7684;&#x5339;&#x914D; <a href="#t4&#x8DEF;&#x7531;&#x7684;&#x5339;&#x914D;"> # </a></h3>
<pre><code>&lt;div&gt;
    &lt;Route path=&quot;/home&quot; component={Home}/&gt;
    &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;
    &lt;Route path=&quot;/profile/user&quot; component={User}/&gt;
&lt;/div&gt;
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7A0D;&#x4F5C;&#x4E86;&#x4E0B;&#x66F4;&#x6539;&#x5F53;&#x8BBF;&#x95EE;/profile/user&#x65F6;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;/profile&#x8DEF;&#x7531;&#x4E5F;&#x4F1A;&#x547D;&#x4E2D;&#x3002;&#x6240;&#x4EE5;&#x8BF4;&#x660E;&#x53EA;&#x8981;&#x8DEF;&#x5F84;&#x5F00;&#x5934;&#x5339;&#x914D;&#x6210;&#x529F;&#x65E2;&#x4F1A;&#x663E;&#x793A;&#x5BF9;&#x5E94;&#x7684;&#x7EC4;&#x4EF6;,&#x5047;&#x5982;&#x4F60;&#x5E0C;&#x671B;&#x4E0D;&#x7BA1;&#x8BBF;&#x95EE;&#x4EFB;&#x4F55;&#x8DEF;&#x5F84;&#x65F6;&#x90FD;&#x80FD;&#x663E;&#x793A;&#x67D0;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;path&#x5199;&#x6210;&apos;/&apos;</p>
</blockquote>
<h3 id="t5Link&#x7EC4;&#x4EF6;">Link&#x7EC4;&#x4EF6; <a href="#t5Link&#x7EC4;&#x4EF6;"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x5F15;&#x5165;bootstrap,&#x5C06;&#x521A;&#x624D;&#x7684;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x8FDB;&#x884C;&#x62C6;&#x5206;,&#x589E;&#x52A0;&#x5BFC;&#x822A;&#x6761;&#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x7684;&#x5BFC;&#x822A;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>
<pre><code>import React from &apos;react&apos;;
import ReactDOM from &apos;react-dom&apos;;
import {HashRouter,Route} from &apos;react-router-dom&apos;;
import &apos;bootstrap/dist/css/bootstrap.css&apos;;
import App from &apos;./App&apos;;
import Home from &apos;./components/Home&apos;;
import Profile from &apos;./components/Profile&apos;;
import User from &apos;./components/User&apos;;
ReactDOM.render(&lt;HashRouter&gt;
    &lt;App&gt;
        &lt;Route path=&quot;/home&quot; component={Home}/&gt;
        &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;
        &lt;Route path=&quot;/user&quot; component={User}/&gt;
    &lt;/App&gt;
&lt;/HashRouter&gt;,document.querySelector(&apos;#root&apos;));
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x589E;&#x52A0;&#x4E86;App&#x7EC4;&#x4EF6;,&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x6837;&#x505A;&#x5462;?&#x539F;&#x56E0;&#x662F;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x5E0C;&#x671B;&#x5C06;&#x6240;&#x6709;&#x7684;&#x903B;&#x8F91;&#x90FD;&#x5199;&#x5728;index&#x4E2D;,&#x8FD9;&#x5E76;&#x4E0D;&#x65B9;&#x4FBF;&#x6211;&#x4EEC;&#x7684;&#x7BA1;&#x7406;,&#x8FD8;&#x8BB0;&#x5F97;children&#x5C5E;&#x6027;&#x5417;&#xFF1F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;App&#x4E2D;&#x901A;&#x8FC7;children&#x7684;&#x65B9;&#x5F0F;&#x5F15;&#x5165;</p>
</blockquote>
<h3 id="t6&#x589E;&#x52A0;&#x5BFC;&#x822A;">&#x589E;&#x52A0;&#x5BFC;&#x822A; <a href="#t6&#x589E;&#x52A0;&#x5BFC;&#x822A;"> # </a></h3>
<pre><code>import React from &apos;react&apos;;
import {Link} from &apos;react-router-dom&apos;;
export default class App extends React.Component{
    render(){
        return (
            &lt;div&gt;
                &lt;div className=&quot;navbar-inverse navbar&quot;&gt;
                    &lt;div className=&quot;container-fluid&quot;&gt;
                        &lt;div className=&quot;navbar-header&quot;&gt;
                            &lt;div className=&quot;navbar-brand&quot;&gt;
                                &#x7528;&#x6237;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;ul className=&quot;navbar-nav nav&quot;&gt;
                            &lt;li&gt;
                                &lt;Link to={&apos;/home&apos;}&gt;&#x9996;&#x9875;&lt;/Link&gt;
                            &lt;/li&gt;
                            &lt;li&gt;
                                &lt;Link to={&apos;/user&apos;}&gt;&#x7528;&#x6237;&#x7BA1;&#x7406;&lt;/Link&gt;
                            &lt;/li&gt;
                            &lt;li&gt;
                                &lt;Link to={&apos;/profile&apos;}&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Link&gt;
                            &lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className=&quot;container&quot;&gt;
                    &lt;div className=&quot;row&quot;&gt;
                        &lt;div className=&quot;col-md-12&quot;&gt;
                            {this.props.children}
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528;Link&#x7EC4;&#x4EF6;&#x5B83;&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5199;&#x7684;a&#x6807;&#x7B7E;,&#x56E0;&#x4E3A;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x7528;&#x5230;browserHistory&#xFF0C;&#x8DF3;&#x8F6C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7528;&#x5230;H5&#x7684;api&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;,Link&#x7EC4;&#x4EF6;&#x662F;react&#x8DEF;&#x7531;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x7EC4;&#x4EF6;,&#x53EF;&#x4EE5;&#x5E2E;&#x6211;&#x4EEC;&#x533A;&#x5206;&#x8DEF;&#x7531;&#x7684;&#x6A21;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x8DEF;&#x7531;&#x7684;&#x8DF3;&#x8F6C;&#x3002;</p>
</blockquote>
<h3 id="t7&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;">&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6; <a href="#t7&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;"> # </a></h3>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5148;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x7EC4;&#x4EF6;&#x4EE3;&#x7801;&#x4EE3;&#x7801;&#x8D34;&#x51FA;&#x6765;,&#x540E;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B8C;&#x5584;&#x5BF9;&#x7528;&#x7684;&#x903B;&#x8F91;</p>
<pre><code>// Home.js
import React from &apos;react&apos;;
export default class Home extends React.Component{
    render(){
        return (
            &lt;div&gt;Home&lt;/div&gt;
        )
    }
}
// Profile.js
import React from &apos;react&apos;;
export default class Profile extends React.Component{
    render(){
        return (
            &lt;div&gt;Profile&lt;/div&gt;
        )
    }
}
// User.js
import React from &apos;react&apos;;
export default class User extends React.Component{
    render(){
        return (
            &lt;div&gt;User&lt;/div&gt;
        )
    }
}
</code></pre><h3 id="t8&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;">&#x4E8C;&#x7EA7;&#x8DEF;&#x7531; <a href="#t8&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;"> # </a></h3>
<p>&#x521A;&#x624D;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x7EA7;&#x5BFC;&#x822A;,&#x4F46;&#x662F;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x90FD;&#x4F1A;&#x62E5;&#x6709;&#x4E8C;&#x7EA7;&#x5BFC;&#x822A;,&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x4E2D;&#x5305;&#x542B;&#x7528;&#x6237;&#x5217;&#x8868;&#x548C;&#x6DFB;&#x52A0;&#x7528;&#x6237;,&#x8FD9;&#x4E24;&#x4E2A;&#x83DC;&#x5355;&#x5E94;&#x8BE5;&#x5C5E;&#x4E8E;&#x7528;&#x6237;&#x5217;&#x8868;&#x4E0B;&#x7684;&#x5B50;&#x5BFC;&#x822A;,&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E0B;&#x6548;&#x679C;</p>
<h4 id="t9&#x5B9E;&#x73B0;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;">&#x5B9E;&#x73B0;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531; <a href="#t9&#x5B9E;&#x73B0;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;"> # </a></h4>
<p>&#x4E8C;&#x7EA7;&#x5BFC;&#x822A;&#x5C31;&#x662F;&#x5728;&#x67D0;&#x4E2A;&#x4E00;&#x7EA7;&#x8DEF;&#x7531;&#x4E2D;&#x7EE7;&#x7EED;&#x5D4C;&#x5957;&#x8DEF;&#x7531;</p>
<pre><code>import React from &apos;react&apos;;
import {Route,Link} from &apos;react-router-dom&apos;
import UserList from &apos;./UserList&apos;
import UserAdd from &apos;./UserAdd&apos;
export default class User extends React.Component{
    render(){
        return (
            &lt;div className=&quot;row&quot;&gt;
                &lt;div className=&quot;col-md-2&quot;&gt;
                    &lt;div className=&quot;nav nav-stacked&quot;&gt;
                        &lt;li&gt;&lt;Link to=&apos;/user/list&apos;&gt;&#x7528;&#x6237;&#x5217;&#x8868;&lt;/Link&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;Link to=&apos;/user/add&apos;&gt;&#x589E;&#x52A0;&#x7528;&#x6237;&lt;/Link&gt;&lt;/li&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div className=&quot;col-md-10&quot;&gt;
                    &lt;Route path=&quot;/user/list&quot; component={UserList}/&gt;
                    &lt;Route path=&quot;/user/add&quot; component={UserAdd}/&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x65B0;&#x7528;&#x6CD5;,&#x53EA;&#x662F;&#x8DEF;&#x5F84;&#x8981;&#x7279;&#x6B8A;&#x5904;&#x7406;&#x4E00;&#x4E0B;&#x56E0;&#x4E3A;&#x662F;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;,&#x8981;&#x4FDD;&#x8BC1;&#x4E00;&#x7EA7;&#x8DEF;&#x7531;&#x4E5F;&#x540C;&#x65F6;&#x663E;&#x793A;&#x6240;&#x4EE5;&#x5F00;&#x5934;&#x8981;&#x548C;&#x4E00;&#x7EA7;&#x8DEF;&#x7531;&#x8DEF;&#x5F84;&#x76F8;&#x540C;&#x3002;&#x5982;&#x679C;&#x591A;&#x6B21;&#x70B9;&#x51FB;&#x76F8;&#x540C;&#x8DEF;&#x7531;&#x65F6;&#x4F1A;&#x89E6;&#x53D1;<code>Hash history cannot PUSH the same path;</code>&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x8B66;&#x544A;,&#x8FD9;&#x4E2A;&#x662F;&#x65E0;&#x6CD5;&#x53BB;&#x9664;&#x7684;&#x4F46;&#x662F;&#x6539;&#x6210;BrowserHistory&#x5C31;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x6B64;&#x8B66;&#x544A;&#x4E86;&#x3002;&#x6240;&#x6709;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;.</p>
</blockquote>
<h4 id="t10UserList&#x548C;Add&#x7EC4;&#x4EF6;">UserList&#x548C;Add&#x7EC4;&#x4EF6; <a href="#t10UserList&#x548C;Add&#x7EC4;&#x4EF6;"> # </a></h4>
<pre><code>// UserList.js
import React from &apos;react&apos;;
export default class UserList extends React.Component{
    render(){
        return (
            &lt;div&gt;UserList&lt;/div&gt;
        )
    }
}
// UserAdd.js
import React from &apos;react&apos;;
export default class UserAdd extends React.Component{
    render(){
        return (
            &lt;div&gt;UserAdd&lt;/div&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5148;&#x4E0D;&#x5199;&#x4EFB;&#x4F55;&#x903B;&#x8F91;&#xFF0C;&#x5148;&#x5C06;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x51FA;&#x6765;&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x4E8C;&#x7EA7;&#x8DEF;&#x3002;</p>
</blockquote>
<h3 id="t11&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x548C;&#x8DEF;&#x5F84;&#x53C2;&#x6570;">&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x548C;&#x8DEF;&#x5F84;&#x53C2;&#x6570; <a href="#t11&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x548C;&#x8DEF;&#x5F84;&#x53C2;&#x6570;"> # </a></h3>
<p>&#x672C;&#x8282;&#x6211;&#x4EEC;&#x5B8C;&#x5584;&#x4E00;&#x4E0B;&#x5185;&#x90E8;&#x7684;&#x903B;&#x8F91;,&#x8FDB;&#x5165;&#x5230;&#x6DFB;&#x52A0;&#x5217;&#x8868;&#x9875;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x7528;&#x6237;&#x7684;&#x6DFB;&#x52A0;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8DF3;&#x8F6C;&#x5230;&#x5217;&#x8868;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x51FA;&#x6DFB;&#x52A0;&#x7684;&#x7528;&#x6237;&#x5217;&#x8868;,&#x9875;&#x9762;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x6211;&#x4EEC;&#x91C7;&#x7528;localStorage&#x3002;&#x5E76;&#x4E14;&#x70B9;&#x51FB;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x5230;&#x7528;&#x6237;&#x8BE6;&#x60C5;&#x9875;&#x3002;</p>
<h4 id="t12&#x5B9E;&#x73B0;&#x6DFB;&#x52A0;&#x7528;&#x6237;">&#x5B9E;&#x73B0;&#x6DFB;&#x52A0;&#x7528;&#x6237; <a href="#t12&#x5B9E;&#x73B0;&#x6DFB;&#x52A0;&#x7528;&#x6237;"> # </a></h4>
<pre><code>import React from &apos;react&apos;;
export default class UserAdd extends React.Component{
    handleSubmit = (e) =&gt;{
        e.preventDefault();
        let localStr = localStorage.getItem(&apos;lists&apos;);
        let list = JSON.parse(localStr)|| [];
        list.push({id:Math.random(),name:this.name.value});
        localStorage.setItem(&apos;lists&apos;,JSON.stringify(list));
        this.props.history.push(&apos;/user/list&apos;)
    };
    render(){
        return (
            &lt;div&gt;
                &lt;form onSubmit={this.handleSubmit}&gt;
                    &lt;div className=&quot;form-group&quot;&gt;
                        &lt;label htmlFor=&quot;name&quot; className=&quot;control-label&quot;&gt;
                            &#x7528;&#x6237;&#x540D;:
                        &lt;/label&gt;
                        &lt;input type=&quot;text&quot; className=&quot;form-control&quot; ref={x=&gt;this.name = x}/&gt;
                    &lt;/div&gt;
                    &lt;div className=&quot;form-group&quot;&gt;
                        &lt;button className=&quot;btn btn-primary&quot;&gt;&#x6DFB;&#x52A0;&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;props&#x4E2D;&#x4F7F;&#x7528;&#x4E86;history&#x7684;API,&#x6240;&#x6709;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#x90FD;&#x62E5;&#x6709;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x7684;&#x5C5E;&#x6027;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x4F1A;&#x4E00;&#x4E00;&#x4ECB;&#x7ECD;&#x5230;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x7F16;&#x7A0B;&#x5F0F;&#x7684;&#x65B9;&#x5F0F;&#x8DF3;&#x8F6C;&#x4E86;&#x8DEF;&#x5F84;&#x3002;</p>
</blockquote>
<h4 id="t13&#x5217;&#x8868;&#x9875;&#x5C55;&#x793A;">&#x5217;&#x8868;&#x9875;&#x5C55;&#x793A; <a href="#t13&#x5217;&#x8868;&#x9875;&#x5C55;&#x793A;"> # </a></h4>
<pre><code>import React from &apos;react&apos;;
import {Link} from &apos;react-router-dom&apos;
export default class UserList extends React.Component{
    constructor(){
        super();
        this.state = {}
    }
    componentWillMount(){
        let userList = JSON.parse(localStorage.getItem(&apos;lists&apos;));
        this.setState({
            userList
        })
    }
    render(){
        return (
            &lt;div&gt;
                &lt;ul className=&quot;list-group&quot;&gt;
                    {this.state.userList.map((user,index)=&gt;(
                        &lt;li className=&quot;list-group-item&quot; key={index}&gt;
                            &lt;Link to={&quot;/user/detail/&quot;+user.id}&gt;{user.name}&lt;/Link&gt;
                        &lt;/li&gt;
                    ))}
                &lt;/ul&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x7684;&#x903B;&#x8F91;&#x6BD4;&#x8F83;&#x7B80;&#x5355;,&#x6211;&#x4EEC;&#x53C8;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;detail&#x8DEF;&#x5F84;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;&#xFF0C;&#x70B9;&#x51FB;&#x7528;&#x6237;&#x540D;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x5177;&#x4F53;&#x7684;&#x7528;&#x6237;id&#x548C;&#x7528;&#x6237;&#x540D;&#x3002;</p>
</blockquote>
<h4 id="t14&#x5F15;&#x5165;UserDetail&#x7EC4;&#x4EF6;">&#x5F15;&#x5165;UserDetail&#x7EC4;&#x4EF6; <a href="#t14&#x5F15;&#x5165;UserDetail&#x7EC4;&#x4EF6;"> # </a></h4>
<pre><code class="lang-diff"><span class="hljs-addition">+ import UserDetail from &apos;./UserDetail&apos;;</span>
  &lt;Route path=&quot;/user/list&quot; component={UserList}/&gt;
  &lt;Route path=&quot;/user/add&quot; component={UserAdd}/&gt;
<span class="hljs-addition">+ &lt;Route path=&quot;/user/detail/:id&quot; component={UserDetail}/&gt;</span>
</code></pre>
<blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x4E86;&#x6A21;&#x7CCA;&#x5339;&#x914D;&#x7684;&#x65B9;&#x5F0F;,&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684;&#x8DEF;&#x5F84;&#x53C2;&#x6570;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;id&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#x901A;&#x8FC7;this.props.match.params.id&#x83B7;&#x53D6;&#x5230;&#x771F;&#x5B9E;&#x4F20;&#x5165;&#x7684;id</p>
</blockquote>
<h4 id="t15UserDetail&#x8BE6;&#x60C5;&#x9875;">UserDetail&#x8BE6;&#x60C5;&#x9875; <a href="#t15UserDetail&#x8BE6;&#x60C5;&#x9875;"> # </a></h4>
<pre><code>import React from &apos;react&apos;;
export default class UserDetail extends React.Component{
    render(){
        let {id } = this.props.match.params;
        let {name} = JSON.parse(localStorage.getItem(&apos;lists&apos;)).find(item=&gt;item.id == id);
        return (
            &lt;table className=&quot;table table-bordered&quot;&gt;
                &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th&gt;id&#x53F7;&lt;/th&gt;
                        &lt;th&gt;&#x6807;&#x9898;&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                    &lt;tr&gt;
                        &lt;td&gt;{id}&lt;/td&gt;
                        &lt;td&gt;{name}&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tbody&gt;
            &lt;/table&gt;
        )
    }
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x901A;&#x8FC7;params&#x53D6;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;,&#x6240;&#x6709;&#x5339;&#x914D;&#x5230;&#x7684;&#x53C2;&#x6570;&#x90FD;&#x4F1A;&#x653E;&#x5728;match.params&#x7684;&#x5C5E;&#x6027;&#x4E0A;&#x3002;</p>
</blockquote>
<h3 id="t16&#x8DEF;&#x7531;&#x5339;&#x914D;">&#x8DEF;&#x7531;&#x5339;&#x914D; <a href="#t16&#x8DEF;&#x7531;&#x5339;&#x914D;"> # </a></h3>
<p>&#x6709;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5BF9;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x6709;&#x4E9B;&#x9650;&#x5236;,&#x6BD4;&#x5982;&#x8BF4;&#x4E25;&#x683C;&#x5BF9;&#x67D0;&#x4E2A;&#x8DEF;&#x5F84;&#x8FDB;&#x884C;&#x5339;&#x914D;,&#x6216;&#x8005;&#x5339;&#x914D;&#x5230;&#x67D0;&#x4E2A;&#x8DEF;&#x5F84;&#x65F6;&#x5C31;&#x4E0D;&#x5728;&#x5339;&#x914D;</p>
<h4 id="t17&#x65B0;&#x589E;&#x8DEF;&#x7531;&#x5339;&#x914D;">&#x65B0;&#x589E;&#x8DEF;&#x7531;&#x5339;&#x914D; <a href="#t17&#x65B0;&#x589E;&#x8DEF;&#x7531;&#x5339;&#x914D;"> # </a></h4>
<pre><code class="lang-diff">&lt;App&gt;
<span class="hljs-addition">+       &lt;Route path=&quot;/&quot; render={()=&gt;&lt;h1&gt;&#x9996;&#x9875;&lt;/h1&gt;}/&gt;</span>
<span class="hljs-addition">+       &lt;Route path=&quot;/:name&quot; render={()=&gt;&lt;h1&gt;zfpx&lt;/h1&gt;}/&gt;</span>
        &lt;Route path=&quot;/home&quot; component={Home}/&gt;
        &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;
        &lt;Route path=&quot;/user&quot; component={User}/&gt;
&lt;/App&gt;
</code></pre>
<blockquote>
<p>&#x5728;&#x6B64;&#x6211;&#x4EEC;&#x4F1A;&#x53D1;&#x73B0;&#x5F53;&#x8BBF;&#x95EE;/home&#x65F6;&#x4EE5;&#x4E0A;<code>&#x9996;&#x9875;</code>&#x548C;<code>zfpx</code>&#x548C;<code>home&#x7EC4;&#x4EF6;</code>&#x90FD;&#x4F1A;&#x8BBF;&#x95EE;&#x5230;,&#x800C;&#x6211;&#x4EEC;&#x53EA;&#x5E0C;&#x671B;&#x5728;&#x8BBF;&#x95EE;/&#x65F6;&#x624D;&#x4F1A;&#x663E;&#x793A;&#x9996;&#x9875;,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x67D0;&#x4E2A;Route&#x4E0A;&#x589E;&#x52A0;exact&#x5C5E;&#x6027;</p>
</blockquote>
<h4 id="t18exact">exact <a href="#t18exact"> # </a></h4>
<pre><code>&lt;Route path=&quot;/&quot; exact render={()=&gt;&lt;h1&gt;&#x9996;&#x9875;&lt;/h1&gt;}/&gt;
</code></pre><blockquote>
<p>&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x5566;~,&#x53EA;&#x4F1A;&#x5F53;&#x8BBF;&#x95EE;/&#x65F6;&#x624D;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5230;&#x3002;</p>
</blockquote>
<h4 id="t19Switch">Switch <a href="#t19Switch"> # </a></h4>
<p>&#x4F46;&#x662F;&#x73B0;&#x5728;&#x8BBF;&#x95EE;/home&#x65F6;&#x6211;&#x4EEC;&#x4F9D;&#x7136;&#x6709;&#x4E24;&#x4E2A;&#x7EC4;&#x4EF6;&#x4F1A;&#x88AB;&#x5339;&#x914D;&#x5230;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5339;&#x914D;&#x5230;&#x4E00;&#x4E2A;&#x540E;&#x5C31;&#x505C;&#x6B62;&#x5339;&#x914D;&#xFF0C;&#x4E0D;&#x5728;&#x7EE7;&#x7EED;&#x5339;&#x914D;&#x4E0B;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Switch&#x7EC4;&#x4EF6;</p>
<pre><code>import {HashRouter,Route,Switch} from &apos;react-router-dom&apos;;
&lt;Switch&gt;
    &lt;Route path=&quot;/&quot; exact render={()=&gt;&lt;h1&gt;&#x9996;&#x9875;&lt;/h1&gt;}/&gt;
    &lt;Route path=&quot;/:name&quot; render={()=&gt;&lt;h1&gt;&#x9996;&#x9875;&lt;/h1&gt;}/&gt;
    &lt;Route path=&quot;/home&quot; component={Home}/&gt;
    &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;
    &lt;Route path=&quot;/user&quot; component={User}/&gt;
&lt;/Switch&gt;
</code></pre><blockquote>
<p>&#x73B0;&#x5728;&#x8BBF;&#x95EE;/home&#x4F60;&#x4F1A;&#x53D1;&#x73B0;Home&#x7EC4;&#x4EF6;&#x6C38;&#x8FDC;&#x90FD;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x51FA;&#x6765;&#x5566;&#xFF01;</p>
</blockquote>
<h3 id="t20&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x8DEF;&#x7531;">&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x8DEF;&#x7531; <a href="#t20&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x8DEF;&#x7531;"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x60F3;&#x5BF9;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x8FDB;&#x884C;&#x5C4F;&#x853D;,&#x4F8B;&#x5982;&#x767B;&#x5F55;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;,&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;&#x672C;&#x5730;&#x5B58;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x6765;&#x8868;&#x793A;&#x662F;&#x5426;&#x767B;&#x5F55;,&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x767B;&#x5F55;&#x8DEF;&#x7531;&#xFF0C;&#x70B9;&#x51FB;&#x767B;&#x5F55;&#x6309;&#x94AE;&#x5C06;&#x672C;&#x5730;&#x53D8;&#x91CF;&#x6539;&#x4E3A;&#x767B;&#x5F55;&#x6210;&#x529F;&#x72B6;&#x6001;,&#x5373;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x5217;&#x8868;&#x9875;&#x9762;</p>
<h3 id="t21&#x53D7;&#x4FDD;&#x62A4;&#x8DEF;&#x7531;">&#x53D7;&#x4FDD;&#x62A4;&#x8DEF;&#x7531; <a href="#t21&#x53D7;&#x4FDD;&#x62A4;&#x8DEF;&#x7531;"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x5339;&#x914D;&#x5230;/user&#x8DEF;&#x7531;&#x65F6;&#x8981;&#x6839;&#x636E;&#x72B6;&#x6001;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6743;&#x9650;&#x9700;&#x8981;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x4E3B;&#x8981;&#x9760;&#x7684;&#x662F;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x7684;&#x601D;&#x60F3;&#x6765;&#x5B9E;&#x73B0;:</p>
<h4 id="t22Protected&#x7EC4;&#x4EF6;">Protected&#x7EC4;&#x4EF6; <a href="#t22Protected&#x7EC4;&#x4EF6;"> # </a></h4>
<pre><code>import React from &apos;react&apos;;
import {Route,Redirect} from &apos;react-router-dom&apos;
export default ({component:Component,...others})=&gt;{
   return &lt;Route {...others} render={(props)=&gt;{
       return localStorage.getItem(&apos;loginSystem&apos;)?&lt;Component {...props}/&gt;:&lt;Redirect to={{
           pathname:&apos;/login&apos;,
           from:props.match.url
       }}/&gt;
   }}/&gt;
}
</code></pre><blockquote>
<p>Redirect&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x65B0;&#x589E;from&#x5C5E;&#x6027;&#x6765;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x5339;&#x914D;&#x7684;url,&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x767B;&#x5F55;&#x540E;&#x53EF;&#x4EE5;&#x5728;&#x8DF3;&#x56DE;&#x5230;&#x5F53;&#x524D;&#x5339;&#x914D;&#x7684;&#x8DEF;&#x5F84;</p>
</blockquote>
<h4 id="t23&#x65B0;&#x589E;Login&#x7EC4;&#x4EF6;">&#x65B0;&#x589E;Login&#x7EC4;&#x4EF6; <a href="#t23&#x65B0;&#x589E;Login&#x7EC4;&#x4EF6;"> # </a></h4>
<pre><code class="lang-diff">&lt;div className=&quot;container&quot;&gt;
    &lt;Route path=&quot;/home&quot; component={Home}/&gt;
<span class="hljs-deletion">-   &lt;Route path=&quot;/profile&quot; component={Profile}/&gt;</span>
<span class="hljs-addition">+   &lt;PrivateRoute path=&quot;/profile&quot; component={Profile}/&gt;</span>
    &lt;Route path=&quot;/user&quot; component={User}/&gt;
<span class="hljs-addition">+   &lt;Route path=&quot;/login&quot; component={Login}/&gt;</span>
&lt;/div&gt;

Login.js
import React from &apos;react&apos;;
export default class Login extends React.Component{
    render(){
        return (
            &lt;div&gt;
                &lt;button className=&quot;btn btn-primary&quot; onClick={()=&gt;{
                    window.localStorage.setItem(&apos;loginSystem&apos;,true);
                   this.props.history.push(this.props.location.from)
                }}&gt;&#x767B;&#x5F55;&lt;/button&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre>
<blockquote>
<p>&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x9ED8;&#x8BA4;&#x70B9;&#x51FB;profile&#x4F1A;&#x9ED8;&#x8BA4;&#x8DF3;&#x8F6C;&#x5230;login&#x7EC4;&#x4EF6;&#x4E2D;&#xFF0C;&#x70B9;&#x51FB;&#x767B;&#x5F55;&#x53EF;&#x4EE5;&#x518D;&#x6B21;&#x8DF3;&#x56DE;profile&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x8DEF;&#x7531;&#x3002;</p>
</blockquote>
<h3 id="t24&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355;">&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355; <a href="#t24&#x81EA;&#x5B9A;&#x4E49;&#x83DC;&#x5355;"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x60F3;&#x7ED9;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x83DC;&#x5355;&#x589E;&#x52A0;&#x6FC0;&#x6D3B;&#x6837;&#x5F0F;&#xFF0C;&#x540C;&#x6837;&#x4F9D;&#x7136;&#x91C7;&#x7528;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5305;&#x88C5;</p>
<h4 id="t25&#x5B9E;&#x73B0;MenuLink&#x7EC4;&#x4EF6;">&#x5B9E;&#x73B0;MenuLink&#x7EC4;&#x4EF6; <a href="#t25&#x5B9E;&#x73B0;MenuLink&#x7EC4;&#x4EF6;"> # </a></h4>
<p>&#x6B64;&#x7EC4;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x66FF;&#x6362;&#x6389;&#x539F;&#x6709;&#x7684;Link&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5185;&#x90E8;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x589E;&#x52A0;&#x6FC0;&#x6D3B;&#x72B6;&#x6001;</p>
<pre><code>import React from &apos;react&apos;;
import {Route,Link} from &apos;react-router-dom&apos;
export default ({to,label})=&gt;{
    return &lt;Route children={(props)=&gt;{
        return &lt;li className={props.match?&apos;active&apos;:&apos;&apos;}&gt;&lt;Link to={to}&gt;{label}&lt;/Link&gt;&lt;/li&gt;
    }}/&gt;
}
</code></pre><blockquote>
<p>&#x8FD9;&#x91CC;&#x6709;&#x4E2A;children&#x5C5E;&#x6027;&#x548C;&#x4EE5;&#x524D;render&#x4E0D;&#x540C;&#xFF0C;children&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x5230;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#x6B64;&#x51FD;&#x6570;&#x3002;&#x800C;render&#x53EA;&#x8981;&#x5728;&#x5339;&#x914D;&#x5230;&#x540E;&#x624D;&#x4F1A;&#x6267;&#x884C;</p>
</blockquote>
<h3 id="t26Prompt">Prompt <a href="#t26Prompt"> # </a></h3>
<p>&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5728;&#x6DFB;&#x52A0;&#x9875;&#x7684;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#x540E;&#x70B9;&#x51FB;&#x5176;&#x4ED6;&#x8DEF;&#x7531;&#x65F6;&#x5148;&#x8BE2;&#x95EE;&#x4E00;&#x4E0B;&#x662F;&#x5426;&#x9700;&#x8981;&#x8DF3;&#x8F6C;&#x3002;</p>
<pre><code>constructor(){
    super();
    this.state = {show:false}
}
&lt;div&gt;
    &lt;Prompt when={this.state.show} message={location =&gt; (
        `Are you sure you want to go to ${location.pathname}?`
    )}/&gt;
    &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;div className=&quot;form-group&quot;&gt;
            &lt;label htmlFor=&quot;username&quot;&gt;&#x7528;&#x6237;&#x540D;&lt;/label&gt;
            &lt;input type=&quot;text&quot; className=&quot;form-control&quot; ref={(x)=&gt;this.x=x}
               onChange={(e)=&gt;{
                   if(e.target.value.length&gt;0){
                       this.setState({show:true})
                   }
               }
            /&gt;
        &lt;/div&gt;
        &lt;div className=&quot;form-group&quot;&gt;
            &lt;button className=&quot;btn btn-primary&quot; &gt;&#x6DFB;&#x52A0;&lt;/button&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;
</code></pre><blockquote>
<p>&#x76D1;&#x542C;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x7684;&#x5185;&#x5BB9;,&#x5F53;&#x6709;&#x5185;&#x5BB9;&#x65F6;&#x5C06;&#x72B6;&#x6001;show&#x53D8;&#x4E3A;true,&#x5F53;&#x9700;&#x8981;&#x8DF3;&#x8F6C;&#x8DEF;&#x7531;&#x65F6;Prompt&#x7684;&#x7EC4;&#x4EF6;when&#x5C5E;&#x6027;&#x4E3A;true&#x5C31;&#x4F1A;&#x63D0;&#x793A;&#x5BF9;&#x5E94;&#x7684;message,&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x5F39;&#x51FA;,&#x6240;&#x4EE5;&#x5148;&#x5C06;&#x72B6;&#x6001;&#x6539;&#x4E3A;false&#x5728;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#x5373;&#x53EF;&#x3002;</p>
</blockquote>
<pre><code class="lang-diff">handleSubmit=(e)=&gt;{
    e.preventDefault();
    let list = JSON.parse(localStorage.getItem(&apos;lists&apos;))||[];
    list.push({id:Math.random(),name:this.x.value});
    localStorage.setItem(&apos;lists&apos;,JSON.stringify(list));
<span class="hljs-addition">+   this.setState({show:false},()=&gt;{</span>
        this.props.history.push(&apos;/profile/list&apos;)
<span class="hljs-addition">+   })</span>
};
</code></pre>
<blockquote>
<p>&#x8981;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x540E;&#x5728;&#x6267;&#x884C;&#x8DF3;&#x8F6C;&#xFF0C;&#x56E0;&#x4E3A;setState&#x662F;&#x5F02;&#x6B65;&#x7684;&#x6240;&#x4EE5;&#x8981;&#x5C06;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x653E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x3002;</p>
</blockquote>
<h2 id="t27NotFound&#x9875;&#x9762;">NotFound&#x9875;&#x9762; <a href="#t27NotFound&#x9875;&#x9762;"> # </a></h2>
<p>&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5F53;&#x8DEF;&#x7531;&#x90FD;&#x5339;&#x914D;&#x4E0D;&#x5230;&#x65F6;&#x663E;&#x793A;&#x4E00;&#x4E2A;404&#x9875;&#x9762;,&#x589E;&#x52A0;&#x4E00;&#x4E2A;404&#x7EC4;&#x4EF6;</p>
<pre><code>import React from &apos;react&apos;;
export default class NotFound extends React.Component{
    render(){
        return (
            &lt;div&gt;NotFound&lt;/div&gt;
        )
    }
}
</code></pre><h3 id="t28&#x65B0;&#x589E;404&#x8DEF;&#x7531;">&#x65B0;&#x589E;404&#x8DEF;&#x7531; <a href="#t28&#x65B0;&#x589E;404&#x8DEF;&#x7531;"> # </a></h3>
<pre><code class="lang-diff">&lt;div className=&quot;container&quot;&gt;
    &lt;Switch&gt;
        &lt;Route path=&quot;/home&quot; component={Home}/&gt;
        &lt;PrivateRoute path=&quot;/profile&quot; component={Profile}/&gt;
        &lt;Route path=&quot;/user&quot; component={User}/&gt;
        &lt;Route path=&quot;/login&quot; component={Login}/&gt;
<span class="hljs-addition">+       &lt;Route component={NotFound}/&gt;</span>
    &lt;/Switch&gt;
&lt;/div&gt;
</code></pre>
<blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;switch&#x7EC4;&#x4EF6;&#x5F53;&#x5168;&#x90E8;&#x5339;&#x914D;&#x4E0D;&#x5230;&#x65F6;&#x4F1A;&#x9ED8;&#x8BA4;&#x6E32;&#x67D3;404&#x8DEF;&#x7531;,&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;404&#x9875;&#x9762;</p>
</blockquote>

        <div class="copyright">Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a>. Dependence <a href="https://nodejs.org">Node.js</a> run.</div>
    </div>
    
</div>


</body>
</html>
